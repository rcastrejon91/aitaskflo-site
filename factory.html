<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Automation Studio - AITaskFlo</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0e1a;
            --surface: #1a1f2e;
            --surface-2: #242937;
            --line: #2a2f3d;
            --fg: #ffffff;
            --muted: #94a3b8;
            --brand: #00d4ff;
            --accent: #ff6b6b;
            --gradient-1: #7c3aed;
            --gradient-2: #3b82f6;
            --success: #10b981;
            --warning: #f59e0b;
            --orange: #ff9800;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--fg);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(ellipse at top left, rgba(120, 58, 237, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at top right, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at bottom, rgba(0, 212, 255, 0.1) 0%, transparent 50%);
        }
        
        /* Animated particles */
        .particle {
            position: absolute;
            background: var(--brand);
            border-radius: 50%;
            opacity: 0.6;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        nav {
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(20px);
            background: rgba(10, 14, 26, 0.9);
            border-bottom: 1px solid var(--line);
            padding: 16px 0;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 24px;
        }
        
        .logo {
            font-weight: 800;
            font-size: 20px;
            color: var(--brand);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo::before {
            content: "🤖";
            font-size: 24px;
        }
        
        .nav-links {
            display: flex;
            gap: 32px;
            align-items: center;
        }
        
        .nav-links a {
            color: var(--muted);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }
        
        .nav-links a:hover {
            color: var(--brand);
        }
        
        .nav-links a.active {
            color: var(--brand);
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--brand), var(--gradient-2));
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--brand);
            border: 1px solid var(--brand);
        }
        
        .btn-secondary:hover {
            background: var(--brand);
            color: var(--bg);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        .hero {
            padding: 80px 0;
            text-align: center;
            position: relative;
        }
        
        .hero h1 {
            font-size: clamp(3rem, 8vw, 5rem);
            font-weight: 800;
            margin-bottom: 24px;
            background: linear-gradient(135deg, var(--fg), var(--brand));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero p {
            font-size: 1.25rem;
            color: var(--muted);
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .studio-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 40px;
            margin-top: 60px;
            align-items: start;
        }
        
        .bot-panel {
            background: var(--surface);
            border: 1px solid var(--line);
            border-radius: 16px;
            padding: 24px;
            position: sticky;
            top: 100px;
        }
        
        .bot-panel h3 {
            margin-bottom: 20px;
            color: var(--brand);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .bot-grid {
            display: grid;
            gap: 12px;
            margin-bottom: 24px;
        }
        
        .bot-card {
            background: var(--surface-2);
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .bot-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--brand), transparent);
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .bot-card:hover {
            border-color: var(--brand);
            transform: translateY(-2px);
        }
        
        .bot-card:hover::before {
            opacity: 1;
        }
        
        .bot-card.active {
            border-color: var(--brand);
            background: rgba(0, 212, 255, 0.1);
        }
        
        .bot-card.active::before {
            opacity: 1;
        }
        
        .bot-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        .bot-name {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .bot-description {
            font-size: 12px;
            color: var(--muted);
        }
        
        .input-section {
            margin-bottom: 20px;
        }
        
        .input-section label {
            display: block;
            margin-bottom: 8px;
            color: var(--muted);
            font-size: 14px;
            font-weight: 500;
        }
        
        .input-field {
            width: 100%;
            padding: 12px 16px;
            background: var(--surface-2);
            border: 1px solid var(--line);
            border-radius: 8px;
            color: var(--fg);
            font-size: 14px;
            transition: border-color 0.2s ease;
            resize: vertical;
            min-height: 80px;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--brand);
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
        }
        
        .run-buttons {
            display: grid;
            gap: 12px;
        }
        
        .workspace {
            background: var(--surface);
            border: 1px solid var(--line);
            border-radius: 16px;
            overflow: hidden;
        }
        
        .workspace-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--line);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .workspace-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }
        
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--success);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .workspace-actions {
            display: flex;
            gap: 8px;
        }
        
        .icon-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: var(--surface-2);
            color: var(--muted);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .icon-btn:hover {
            background: var(--line);
            color: var(--brand);
        }
        
        .terminal {
            padding: 24px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            line-height: 1.6;
            min-height: 400px;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .terminal-line {
            margin-bottom: 8px;
            opacity: 0;
            transform: translateX(-10px);
            animation: slideIn 0.3s ease forwards;
        }
        
        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .terminal-prompt {
            color: var(--brand);
        }
        
        .terminal-output {
            color: var(--muted);
        }
        
        .terminal-success {
            color: var(--success);
        }
        
        .terminal-warning {
            color: var(--warning);
        }
        
        .terminal-error {
            color: var(--accent);
        }
        
        .typing-indicator {
            display: none;
            align-items: center;
            gap: 8px;
            color: var(--brand);
            margin: 16px 0;
        }
        
        .typing-indicator.active {
            display: flex;
        }
        
        .typing-dots {
            display: flex;
            gap: 4px;
        }
        
        .typing-dot {
            width: 4px;
            height: 4px;
            background: var(--brand);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
        
        .api-section {
            margin-top: 60px;
            padding: 40px 0;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .section-header h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--brand);
        }
        
        .api-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .api-card {
            background: var(--surface);
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .api-card:hover {
            border-color: var(--brand);
            transform: translateY(-2px);
        }
        
        .api-card h4 {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            color: var(--brand);
        }
        
        .api-results {
            background: var(--surface-2);
            border-radius: 8px;
            padding: 16px;
            margin-top: 20px;
            display: none;
        }
        
        .api-results.active {
            display: block;
        }
        
        .security-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--surface);
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 16px;
            min-width: 200px;
            z-index: 1000;
        }
        
        .security-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
        }
        
        .security-stats {
            font-size: 12px;
            color: var(--muted);
        }
        
        @media (max-width: 768px) {
            .studio-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .bot-panel {
                position: static;
            }
            
            .nav-container {
                padding: 0 16px;
            }
            
            .container {
                padding: 0 16px;
            }
            
            .nav-links {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="background"></div>
    
    <nav>
        <div class="nav-container">
            <a href="/" class="logo">AITaskFlo</a>
            <div class="nav-links">
                <a href="/">Home</a>
                <a href="/factory" class="active">Studio</a>
                <a href="/pricing">Pricing</a>
                <a href="/docs">Docs</a>
                <a href="/waitlist" class="btn btn-primary">Get Started</a>
            </div>
        </div>
    </nav>

    <main class="container">
        <section class="hero">
            <h1>AI Automation Studio</h1>
            <p>Build, test, and deploy intelligent automation workflows with our AI-powered bot factory. Real-time collaboration between specialized AI agents.</p>
        </section>

        <div class="studio-grid">
            <!-- Bot Control Panel -->
            <div class="bot-panel">
                <h3>🤖 AI Bot Factory</h3>
                
                <div class="bot-grid">
                    <div class="bot-card" data-bot="emailBot">
                        <div class="bot-icon">📧</div>
                        <div class="bot-name">Email Bot</div>
                        <div class="bot-description">Crafts professional emails with AI insights</div>
                    </div>
                    
                    <div class="bot-card" data-bot="taskBot">
                        <div class="bot-icon">📋</div>
                        <div class="bot-name">Task Bot</div>
                        <div class="bot-description">Manages tasks with smart prioritization</div>
                    </div>
                    
                    <div class="bot-card" data-bot="analyticsBot">
                        <div class="bot-icon">📊</div>
                        <div class="bot-name">Analytics Bot</div>
                        <div class="bot-description">Generates insights and metrics</div>
                    </div>
                    
                    <div class="bot-card" data-bot="researchBot">
                        <div class="bot-icon">🔍</div>
                        <div class="bot-name">Research Bot</div>
                        <div class="bot-description">Conducts live research with citations</div>
                    </div>
                </div>
                
                <div class="input-section">
                    <label for="botInput">Bot Instructions</label>
                    <textarea 
                        id="botInput" 
                        class="input-field" 
                        placeholder="Enter your automation request..."
                        rows="3"
                    ></textarea>
                </div>
                
                <div class="run-buttons">
                    <button class="btn btn-primary" id="runSingleBot">
                        <span>🚀</span> Run Selected Bot
                    </button>
                    <button class="btn btn-secondary" id="runTeam">
                        <span>👥</span> Run Full Team
                    </button>
                </div>
            </div>

            <!-- Workspace -->
            <div class="workspace">
                <div class="workspace-header">
                    <div class="workspace-title">
                        <span>💻</span>
                        <span>Live Workspace</span>
                        <div class="status-indicator"></div>
                    </div>
                    <div class="workspace-actions">
                        <button class="icon-btn" id="clearTerminal" title="Clear">🗑️</button>
                        <button class="icon-btn" id="saveSession" title="Save">💾</button>
                        <button class="icon-btn" id="shareSession" title="Share">📤</button>
                    </div>
                </div>
                
                <div class="terminal" id="terminal">
                    <div class="terminal-line">
                        <span class="terminal-prompt">AITaskFlo Studio $</span> 
                        <span class="terminal-output">Welcome to the AI Automation Studio</span>
                    </div>
                    <div class="terminal-line">
                        <span class="terminal-output">🤖 4 AI bots ready | 🌐 15+ APIs connected | 🛡️ Security Guardian active</span>
                    </div>
                    <div class="terminal-line">
                        <span class="terminal-success">✅ All systems operational</span>
                    </div>
                </div>
                
                <div class="typing-indicator" id="typingIndicator">
                    <span>🤖 AI thinking</span>
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- API Playground -->
        <section class="api-section">
            <div class="section-header">
                <h2>🌐 API Playground</h2>
                <p>Test our integrated APIs directly in the studio</p>
            </div>
            
            <div class="api-grid">
                <div class="api-card" data-api="weather">
                    <h4>🌤️ Weather Data</h4>
                    <p>Get current weather for any city worldwide</p>
                    <div class="api-results" id="weatherResults"></div>
                </div>
                
                <div class="api-card" data-api="news">
                    <h4>📰 Latest News</h4>
                    <p>Real-time news from trusted sources</p>
                    <div class="api-results" id="newsResults"></div>
                </div>
                
                <div class="api-card" data-api="quote">
                    <h4>💭 Inspirational Quotes</h4>
                    <p>Motivational quotes for your content</p>
                    <div class="api-results" id="quoteResults"></div>
                </div>
                
                <div class="api-card" data-api="color">
                    <h4>🎨 Color Generator</h4>
                    <p>Random colors for design inspiration</p>
                    <div class="api-results" id="colorResults"></div>
                </div>
                
                <div class="api-card" data-api="uuid">
                    <h4>🎲 UUID Generator</h4>
                    <p>Unique identifiers for your projects</p>
                    <div class="api-results" id="uuidResults"></div>
                </div>
                
                <div class="api-card" data-api="joke">
                    <h4>😂 Random Jokes</h4>
                    <p>Add humor to your content</p>
                    <div class="api-results" id="jokeResults"></div>
                </div>
            </div>
        </section>
    </main>

    <!-- Security Status Widget -->
    <div class="security-status">
        <div class="security-header">
            <span>🛡️</span>
            <span>Security Guardian</span>
            <div class="status-indicator"></div>
        </div>
        <div class="security-stats" id="securityStats">
            <div>Status: <span style="color: var(--success);">ACTIVE</span></div>
            <div>Threats Blocked: <span id="threatsBlocked">0</span></div>
            <div>Uptime: <span id="uptime">00:00:00</span></div>
        </div>
    </div>

    <script>
        // Global state
        let selectedBot = 'emailBot';
        let sessionId = Math.random().toString(36).substr(2, 9);
        
        // DOM elements
        const terminal = document.getElementById('terminal');
        const typingIndicator = document.getElementById('typingIndicator');
        const botInput = document.getElementById('botInput');
        const botCards = document.querySelectorAll('.bot-card');
        const apiCards = document.querySelectorAll('.api-card');
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeBots();
            initializeAPIs();
            initializeSecurity();
            createParticles();
            startUptime();
            
            // Set default selected bot
            document.querySelector('[data-bot="emailBot"]').classList.add('active');
        });
        
        // Bot selection
        botCards.forEach(card => {
            card.addEventListener('click', function() {
                botCards.forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                selectedBot = this.dataset.bot;
                
                addTerminalLine(`🎯 Selected ${getBotName(selectedBot)}`, 'terminal-success');
            });
        });
        
        // Run single bot
        document.getElementById('runSingleBot').addEventListener('click', async function() {
            const input = botInput.value.trim();
            if (!input) {
                addTerminalLine('❌ Please enter instructions for the bot', 'terminal-error');
                return;
            }
            
            showTyping();
            addTerminalLine(`🚀 Running ${getBotName(selectedBot)}...`, 'terminal-prompt');
            addTerminalLine(`📝 Input: "${input}"`, 'terminal-output');
            
            try {
                const response = await fetch('/run-bot', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-User-Id': sessionId
                    },
                    body: JSON.stringify({
                        botName: selectedBot,
                        input: input
                    })
                });
                
                const data = await response.json();
                hideTyping();
                
                if (data.success) {
                    data.logs.forEach(log => {
                        addTerminalLine(log, 'terminal-success');
                    });
                    
                    if (data.apiEnhanced) {
                        addTerminalLine('✨ Enhanced with live API data', 'terminal-warning');
                    }
                } else {
                    addTerminalLine('❌ Bot execution failed', 'terminal-error');
                }
            } catch (error) {
                hideTyping();
                addTerminalLine('⚠️ Connection error - demo mode active', 'terminal-warning');
                simulateBotResponse(selectedBot, input);
            }
        });
        
        // Run team
        document.getElementById('runTeam').addEventListener('click', async function() {
            const input = botInput.value.trim();
            if (!input) {
                addTerminalLine('❌ Please enter instructions for the team', 'terminal-error');
                return;
            }
            
            showTyping();
            addTerminalLine('👥 Assembling AI Team...', 'terminal-prompt');
            addTerminalLine(`📝 Mission: "${input}"`, 'terminal-output');
            
            try {
                const response = await fetch('/team-run', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-User-Id': sessionId
                    },
                    body: JSON.stringify({
                        input: input
                    })
                });
                
                const data = await response.json();
                hideTyping();
                
                if (data.success) {
                    data.logs.forEach((log, index) => {
                        setTimeout(() => {
                            addTerminalLine(log, 'terminal-success');
                        }, index * 200);
                    });
                } else {
                    addTerminalLine('❌ Team execution failed', 'terminal-error');
                }
            } catch (error) {
                hideTyping();
                addTerminalLine('⚠️ Connection error - demo mode active', 'terminal-warning');
                simulateTeamResponse(input);
            }
        });
        
        // API playground
        apiCards.forEach(card => {
            card.addEventListener('click', async function() {
                const apiType = this.dataset.api;
                const resultsElement = document.getElementById(`${apiType}Results`);
                
                // Close other results
                document.querySelectorAll('.api-results').forEach(r => r.classList.remove('active'));
                
                // Show loading
                resultsElement.innerHTML = '<div style="color: var(--brand);">🔄 Loading...</div>';
                resultsElement.classList.add('active');
                
                try {
                    await testAPI(apiType, resultsElement);
                } catch (error) {
                    resultsElement.innerHTML = '<div style="color: var(--accent);">❌ API temporarily unavailable</div>';
                }
            });
        });
        
        // Terminal actions
        document.getElementById('clearTerminal').addEventListener('click', function() {
            terminal.innerHTML = '';
            addTerminalLine('🧹 Terminal cleared', 'terminal-output');
        });
        
        document.getElementById('saveSession').addEventListener('click', function() {
            const sessionData = {
                id: sessionId,
                timestamp: new Date().toISOString(),
                content: terminal.innerHTML
            };
            
            localStorage.setItem(`aitaskflo_session_${sessionId}`, JSON.stringify(sessionData));
            addTerminalLine('💾 Session saved locally', 'terminal-success');
        });
        
        document.getElementById('shareSession').addEventListener('click', function() {
            const shareUrl = `${window.location.origin}/studio?session=${sessionId}`;
            navigator.clipboard.writeText(shareUrl).then(() => {
                addTerminalLine('📤 Session URL copied to clipboard', 'terminal-success');
            });
        });
        
        // Helper functions
        function getBotName(botType) {
            const names = {
                emailBot: 'Email Bot 📧',
                taskBot: 'Task Bot 📋',
                analyticsBot: 'Analytics Bot 📊',
                researchBot: 'Research Bot 🔍'
            };
            return names[botType] || botType;
        }
        
        function addTerminalLine(text, className = 'terminal-output') {
            const line = document.createElement('div');
            line.className = `terminal-line ${className}`;
            line.textContent = text;
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
            
            // Animate in
            setTimeout(() => {
                line.style.animationDelay = '0s';
            }, 10);
        }
        
        function showTyping() {
            typingIndicator.classList.add('active');
        }
        
        function hideTyping() {
            typingIndicator.classList.remove('active');
        }
        
        function simulateBotResponse(botType, input) {
            const responses = {
                emailBot: [
                    `[EmailBot] Processing: "${input}"`,
                    '[EmailBot] Adding motivational elements...',
                    '[EmailBot] ✅ Professional email draft ready!'
                ],
                taskBot: [
                    `[TaskBot] Creating task: "${input}"`,
                    `[TaskBot] Task ID: ${generateUUID()}`,
                    '[TaskBot] Priority: High',
                    '[TaskBot] ✅ Task added to workflow!'
                ],
                analyticsBot: [
                    `[AnalyticsBot] Analyzing: "${input}"`,
                    '[AnalyticsBot] Metrics - Engagement: 87%, Growth: +15%',
                    '[AnalyticsBot] ✅ Analytics report generated!'
                ],
                researchBot: [
                    `[ResearchBot] Researching: "${input}"`,
                    '[ResearchBot] Found 5 relevant sources',
                    '[ResearchBot] ✅ Research compilation ready!'
                ]
            };
            
            const botResponses = responses[botType] || ['Bot response simulated'];
            botResponses.forEach((response, index) => {
                setTimeout(() => {
                    addTerminalLine(response, 'terminal-success');
                }, index * 500);
            });
        }
        
        function simulateTeamResponse(input) {
            const teamResponses = [
                `🧑‍🤝‍🧑 AI Crew Assembly — Mission: "${input}"`,
                '⏰ Timestamp: ' + new Date().toLocaleString(),
                '[EmailBot] Crafting communication strategy...',
                '[TaskBot] Breaking down into actionable tasks...',
                '[AnalyticsBot] Setting up success metrics...',
                '[ResearchBot] Gathering market intelligence...',
                '💬 Cross-bot collaboration:',
                '💡 TaskBot: Analytics show this should be priority #1!',
                '😂 EmailBot: Perfect! I\'ll add some personality ✨',
                '🔍 ResearchBot: I found 3 case studies supporting this approach.',
                '📊 AnalyticsBot: Expected ROI: +25% within 30 days',
                '✅ Mission Complete: Strategy deployed successfully!'
            ];
            
            teamResponses.forEach((response, index) => {
                setTimeout(() => {
                    addTerminalLine(response, 'terminal-success');
                }, index * 300);
            });
        }
        
        async function testAPI(apiType, resultsElement) {
            let apiUrl = '';
            let displayContent = '';
            
            switch (apiType) {
                case 'weather':
                    apiUrl = '/api/weather/london';
                    try {
                        const response = await fetch(apiUrl);
                        const data = await response.json();
                        if (data.success) {
                            displayContent = `
                                <h5>🌤️ ${data.data.city}</h5>
                                <p>Temperature: ${data.data.temperature}°C</p>
                                <p>Condition: ${data.data.description}</p>
                                <p>Humidity: ${data.data.humidity}%</p>
                            `;
                        } else {
                            displayContent = '<p style="color: var(--accent);">Weather API unavailable</p>';
                        }
                    } catch (error) {
                        displayContent = `
                            <h5>🌤️ London (Demo)</h5>
                            <p>Temperature: 18°C</p>
                            <p>Condition: Partly cloudy</p>
                            <p>Humidity: 65%</p>
                        `;
                    }
                    break;
                    
                case 'news':
                    apiUrl = '/api/news/technology';
                    try {
                        const response = await fetch(apiUrl);
                        const data = await response.json();
                        if (data.success && data.data.length > 0) {
                            const article = data.data[0];
                            displayContent = `
                                <h5>📰 ${article.source}</h5>
                                <p><strong>${article.title}</strong></p>
                                <p>${article.description || 'No description available'}</p>
                            `;
                        } else {
                            displayContent = '<p style="color: var(--accent);">News API unavailable</p>';
                        }
                    } catch (error) {
                        displayContent = `
                            <h5>📰 Tech News (Demo)</h5>
                            <p><strong>AI Breakthrough in Automation</strong></p>
                            <p>Latest developments in AI-powered business automation...</p>
                        `;
                    }
                    break;
                    
                case 'quote':
                    apiUrl = '/api/quote/motivational';
                    try {
                        const response = await fetch(apiUrl);
                        const data = await response.json();
                        if (data.success) {
                            displayContent = `
                                <h5>💭 Inspiration</h5>
                                <p>"${data.data.text}"</p>
                                <p><em>— ${data.data.author}</em></p>
                            `;
                        } else {
                            displayContent = '<p style="color: var(--accent);">Quote API unavailable</p>';
                        }
                    } catch (error) {
                        displayContent = `
                            <h5>💭 Inspiration (Demo)</h5>
                            <p>"The future belongs to those who believe in the beauty of their dreams."</p>
                            <p><em>— Eleanor Roosevelt</em></p>
                        `;
                    }
                    break;
                    
                case 'color':
                    apiUrl = '/api/color/3';
                    try {
                        const response = await fetch(apiUrl);
                        const data = await response.json();
                        if (data.success) {
                            const colors = Array.isArray(data.data) ? data.data : [data.data];
                            displayContent = '<h5>🎨 Color Palette</h5><div style="display: flex; gap: 8px; margin-top: 8px;">';
                            colors.forEach(color => {
                                displayContent += `
                                    <div style="width: 40px; height: 40px; background: ${color.hex}; border-radius: 4px; border: 1px solid var(--line);" title="${color.hex}"></div>
                                `;
                            });
                            displayContent += '</div>';
                        } else {
                            displayContent = '<p style="color: var(--accent);">Color API unavailable</p>';
                        }
                    } catch (error) {
                        displayContent = `
                            <h5>🎨 Color Palette (Demo)</h5>
                            <div style="display: flex; gap: 8px; margin-top: 8px;">
                                <div style="width: 40px; height: 40px; background: #ff6b6b; border-radius: 4px; border: 1px solid var(--line);"></div>
                                <div style="width: 40px; height: 40px; background: #4ecdc4; border-radius: 4px; border: 1px solid var(--line);"></div>
                                <div style="width: 40px; height: 40px; background: #45b7d1; border-radius: 4px; border: 1px solid var(--line);"></div>
                            </div>
                        `;
                    }
                    break;
                    
                case 'uuid':
                    apiUrl = '/api/uuid/2';
                    try {
                        const response = await fetch(apiUrl);
                        const data = await response.json();
                        if (data.success) {
                            const uuids = Array.isArray(data.data) ? data.data : [data.data];
                            displayContent = '<h5>🎲 Unique IDs</h5>';
                            uuids.forEach(uuid => {
                                displayContent += `<p style="font-family: monospace; font-size: 12px; background: var(--surface-2); padding: 4px 8px; border-radius: 4px; margin: 4px 0;">${uuid}</p>`;
                            });
                        } else {
                            displayContent = '<p style="color: var(--accent);">UUID API unavailable</p>';
                        }
                    } catch (error) {
                        displayContent = `
                            <h5>🎲 Unique IDs (Demo)</h5>
                            <p style="font-family: monospace; font-size: 12px; background: var(--surface-2); padding: 4px 8px; border-radius: 4px; margin: 4px 0;">${generateUUID()}</p>
                            <p style="font-family: monospace; font-size: 12px; background: var(--surface-2); padding: 4px 8px; border-radius: 4px; margin: 4px 0;">${generateUUID()}</p>
                        `;
                    }
                    break;
                    
                case 'joke':
                    apiUrl = '/api/joke';
                    try {
                        const response = await fetch(apiUrl);
                        const data = await response.json();
                        if (data.success) {
                            displayContent = `
                                <h5>😂 Random Joke</h5>
                                <p><strong>${data.data.setup}</strong></p>
                                <p>${data.data.punchline}</p>
                            `;
                        } else {
                            displayContent = '<p style="color: var(--accent);">Joke API unavailable</p>';
                        }
                    } catch (error) {
                        displayContent = `
                            <h5>😂 Random Joke (Demo)</h5>
                            <p><strong>Why don't scientists trust atoms?</strong></p>
                            <p>Because they make up everything!</p>
                        `;
                    }
                    break;
            }
            
            resultsElement.innerHTML = displayContent;
        }
        
        function generateUUID() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.random() * 16 | 0;
                const v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }
        
        function createParticles() {
            const background = document.querySelector('.background');
            
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.width = Math.random() * 4 + 2 + 'px';
                particle.style.height = particle.style.width;
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                background.appendChild(particle);
            }
        }
        
        function initializeBots() {
            addTerminalLine('🤖 Initializing AI Bots...', 'terminal-output');
            setTimeout(() => addTerminalLine('✅ Email Bot ready', 'terminal-success'), 500);
            setTimeout(() => addTerminalLine('✅ Task Bot ready', 'terminal-success'), 700);
            setTimeout(() => addTerminalLine('✅ Analytics Bot ready', 'terminal-success'), 900);
            setTimeout(() => addTerminalLine('✅ Research Bot ready', 'terminal-success'), 1100);
            setTimeout(() => addTerminalLine('🚀 All systems operational!', 'terminal-warning'), 1300);
        }
        
        function initializeAPIs() {
            setTimeout(() => {
                addTerminalLine('🌐 Connecting to 15+ APIs...', 'terminal-output');
            }, 1500);
            setTimeout(() => {
                addTerminalLine('✅ Weather, News, Currency, and 12+ more APIs connected', 'terminal-success');
            }, 2000);
        }
        
        function initializeSecurity() {
            setTimeout(() => {
                addTerminalLine('🛡️ Security Guardian Bot activated', 'terminal-output');
                updateSecurityStatus();
            }, 2200);
        }
        
        function updateSecurityStatus() {
            const threatsElement = document.getElementById('threatsBlocked');
            let threats = 0;
            
            setInterval(() => {
                // Simulate occasional threat detection
                if (Math.random() < 0.1) {
                    threats += Math.floor(Math.random() * 3) + 1;
                    threatsElement.textContent = threats;
                    
                    if (threats > 0 && threats % 5 === 0) {
                        addTerminalLine(`🛡️ Security Guardian: ${threats} threats blocked`, 'terminal-warning');
                    }
                }
            }, 5000);
        }
        
        function startUptime() {
            const uptimeElement = document.getElementById('uptime');
            const startTime = Date.now();
            
            setInterval(() => {
                const elapsed = Date.now() - startTime;
                const hours = Math.floor(elapsed / 3600000);
                const minutes = Math.floor((elapsed % 3600000) / 60000);
                const seconds = Math.floor((elapsed % 60000) / 1000);
                
                uptimeElement.textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + Enter to run selected bot
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                e.preventDefault();
                document.getElementById('runSingleBot').click();
            }
            
            // Ctrl/Cmd + Shift + Enter to run team
            if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'Enter') {
                e.preventDefault();
                document.getElementById('runTeam').click();
            }
            
            // Escape to clear terminal
            if (e.key === 'Escape') {
                document.getElementById('clearTerminal').click();
            }
        });
        
        // Auto-save input
        botInput.addEventListener('input', function() {
            localStorage.setItem('aitaskflo_studio_input', this.value);
        });
        
        // Restore saved input
        const savedInput = localStorage.getItem('aitaskflo_studio_input');
        if (savedInput) {
            botInput.value = savedInput;
        }
        
        // Focus management
        botInput.addEventListener('focus', function() {
            this.style.borderColor = 'var(--brand)';
        });
        
        botInput.addEventListener('blur', function() {
            this.style.borderColor = 'var(--line)';
        });
        
        // WebSocket connection for real-time updates
        function connectWebSocket() {
            try {
                const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';
                const ws = new WebSocket(`${protocol}//${window.location.host}`);
                
                ws.onopen = function() {
                    addTerminalLine('🔌 Real-time connection established', 'terminal-success');
                };
                
                ws.onmessage = function(event) {
                    try {
                        const data = JSON.parse(event.data);
                        
                        if (data.type === 'security_alert') {
                            addTerminalLine(`🚨 Security Alert: ${data.alert.level} threat from ${data.alert.ip}`, 'terminal-warning');
                        } else if (data.type === 'bot_activity') {
                            addTerminalLine(`🤖 Bot Activity: ${data.data.action}`, 'terminal-output');
                        }
                    } catch (error) {
                        console.log('WebSocket message parsing error:', error);
                    }
                };
                
                ws.onclose = function() {
                    addTerminalLine('🔌 Connection closed - operating in offline mode', 'terminal-warning');
                };
                
                ws.onerror = function() {
                    addTerminalLine('⚠️ Connection error - demo mode active', 'terminal-warning');
                };
            } catch (error) {
                addTerminalLine('🔌 WebSocket unavailable - using polling mode', 'terminal-output');
            }
        }
        
        // Initialize WebSocket connection
        setTimeout(connectWebSocket, 3000);
        
        // Example prompts for inspiration
        const examplePrompts = [
            "Create a welcome email for new subscribers",
            "Plan a product launch campaign",
            "Analyze our Q4 performance metrics",
            "Research competitors in the AI automation space",
            "Generate a task list for onboarding new employees",
            "Draft a professional follow-up email",
            "Create a social media content calendar",
            "Analyze user engagement trends"
        ];
        
        // Add example prompt functionality
        botInput.addEventListener('focus', function() {
            if (!this.value) {
                const randomPrompt = examplePrompts[Math.floor(Math.random() * examplePrompts.length)];
                this.placeholder = `Try: "${randomPrompt}"`;
            }
        });
        
        // Add success animations
        function celebrateSuccess() {
            const celebration = document.createElement('div');
            celebration.innerHTML = '🎉';
            celebration.style.position = 'fixed';
            celebration.style.top = '50%';
            celebration.style.left = '50%';
            celebration.style.transform = 'translate(-50%, -50%)';
            celebration.style.fontSize = '4rem';
            celebration.style.animation = 'bounce 1s ease-in-out';
            celebration.style.pointerEvents = 'none';
            celebration.style.zIndex = '9999';
            
            document.body.appendChild(celebration);
            
            setTimeout(() => {
                document.body.removeChild(celebration);
            }, 1000);
        }
        
        // Performance monitoring
        function logPerformance(action, duration) {
            if (duration > 2000) {
                addTerminalLine(`⚠️ Slow response detected: ${action} took ${duration}ms`, 'terminal-warning');
            }
        }
        
        // Add performance monitoring to API calls
        const originalFetch = window.fetch;
        window.fetch = function(...args) {
            const start = performance.now();
            return originalFetch.apply(this, args).then(response => {
                const duration = performance.now() - start;
                logPerformance(`API call to ${args[0]}`, duration);
                return response;
            });
        };
    </script>
</body>
</html>            text-decoration: none;
        }

        .back-btn {
            background: linear-gradient(135deg, var(--accent), var(--orange));
            color: #fff;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 24px;
        }

        .hero {
            text-align: center;
            margin-bottom: 60px;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--brand), var(--gradient-1));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--muted);
            max-width: 600px;
            margin: 0 auto 32px;
        }

        .automation-panel {
            background: var(--surface);
            border: 1px solid var(--line);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
        }

        .panel-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .panel-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .panel-header p {
            color: var(--muted);
        }

        .task-input {
            width: 100%;
            min-height: 120px;
            padding: 20px;
            border: 2px solid var(--line);
            border-radius: 12px;
            background: var(--bg);
            color: var(--fg);
            font-family: 'Inter', sans-serif;
            font-size: 16px;
            resize: vertical;
            transition: all 0.3s ease;
            margin-bottom: 16px;
        }

        .task-input:focus {
            outline: none;
            border-color: var(--brand);
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
        }

        .action-btn {
            background: linear-gradient(135deg, var(--brand), var(--gradient-2));
            color: #000;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 24px;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }

        .action-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .output-section {
            background: var(--bg);
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 24px;
            min-height: 200px;
            max-height: 500px;
            overflow-y: auto;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre-wrap;
            display: none;
        }

        .output-section.show {
            display: block;
        }

        .templates {
            margin-bottom: 24px;
        }

        .templates-label {
            font-size: 0.9rem;
            color: var(--muted);
            margin-bottom: 12px;
        }

        .template-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .template-btn {
            background: var(--surface-2);
            color: var(--fg);
            border: 1px solid var(--line);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .template-btn:hover {
            background: var(--brand);
            color: #000;
            transform: translateY(-1px);
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .automation-panel {
                padding: 24px;
            }
            
            .container {
                padding: 24px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="background"></div>

    <nav>
        <div class="nav-container">
            <a href="#" class="logo">AITaskFlo</a>
            <a href="index.html" class="back-btn">← Back to Home</a>
        </div>
    </nav>

    <div class="container">
        <div class="hero">
            <h1>AI Automation Studio</h1>
            <p>Transform any business task into automated intelligence. One AI, infinite possibilities.</p>
        </div>

        <div class="automation-panel">
            <div class="panel-header">
                <h2>Talk to me or describe any task - I'm here to help!</h2>
                <p>I'm not just an automation tool - I'm your AI teammate who learns and grows with you.</p>
            </div>

            <div class="templates">
                <div class="templates-label">Quick starts (click to use):</div>
                <div class="template-buttons">
                    <button class="template-btn" onclick="useTemplate('email')">Professional Email</button>
                    <button class="template-btn" onclick="useTemplate('analysis')">Data Analysis</button>
                    <button class="template-btn" onclick="useTemplate('content')">Content Creation</button>
                    <button class="template-btn" onclick="useTemplate('planning')">Project Planning</button>
                    <button class="template-btn" onclick="useTemplate('healthcare')">Healthcare Protocol</button>
                    <button class="template-btn" onclick="useTemplate('greeting')">Say Hello</button>
                </div>
            </div>

            <textarea 
                id="taskInput" 
                class="task-input" 
                placeholder="Describe exactly what you need automated... or just say hi! 

Examples:
• 'Hi! What can you help me with?'
• 'Draft a professional email declining a meeting'
• 'Create a project proposal for a mobile app'
• 'Analyze this sales data and provide insights'"
            ></textarea>

            <button class="action-btn" onclick="automateTask()" id="automateBtn">
                Automate This Task
            </button>

            <div id="output" class="output-section"></div>
        </div>
    </div>

    <script>
        const templates = {
            email: "Draft a professional email to [recipient] about [topic]. Make it [formal/friendly/persuasive] and include [specific request].",
            analysis: "Analyze this data and provide insights: [paste your data here]. Focus on trends and actionable recommendations.",
            content: "Create engaging content about [topic] for [platform/audience]. Include [specific requirements].",
            planning: "Create a project plan for [project description]. Include timeline, milestones, and resources needed.",
            healthcare: "Create a HIPAA-compliant [policy/procedure] for [healthcare situation]. Include safety measures.",
            greeting: "Hi! How are you doing today?"
        };

        function useTemplate(type) {
            try {
                const input = document.getElementById('taskInput');
                if (input && templates[type]) {
                    input.value = templates[type];
                    input.focus();
                }
            } catch (error) {
                console.log('Template error:', error);
            }
        }

        async function automateTask() {
            try {
                const input = document.getElementById('taskInput');
                const outputDiv = document.getElementById('output');
                const button = document.getElementById('automateBtn');

                if (!input || !outputDiv || !button) {
                    console.log('Required elements not found');
                    return;
                }

                const inputText = input.value.trim();
                if (!inputText) {
                    alert('Please describe the task you want to automate.');
                    return;
                }

                // Show loading
                button.disabled = true;
                button.textContent = 'AI Working...';
                outputDiv.style.display = 'block';
                outputDiv.innerHTML = 'AI is processing your request...\n\n';

                // Simple greeting responses
                if (isSimpleGreeting(inputText)) {
                    const response = getGreetingResponse();
                    await typeText(outputDiv, response);
                    button.disabled = false;
                    button.textContent = 'Automate This Task';
                    return;
                }

                // API call
                const response = await callClaudeAPI(inputText);
                await typeText(outputDiv, response);

            } catch (error) {
                const outputDiv = document.getElementById('output');
                if (outputDiv) {
                    outputDiv.innerHTML = `Error: ${error.message}\n\nPlease try again.`;
                }
            } finally {
                const button = document.getElementById('automateBtn');
                if (button) {
                    button.disabled = false;
                    button.textContent = 'Automate This Task';
                }
            }
        }

        function isSimpleGreeting(input) {
            const greetings = /^(hi|hello|hey|good morning|good afternoon|how are you|what's up)!?$/i;
            return greetings.test(input.trim());
        }

        function getGreetingResponse() {
            const responses = [
                "Hello! I'm your AI automation assistant. I can help streamline your work and automate business tasks. What would you like to work on today?",
                "Hi there! I specialize in turning tedious tasks into automated workflows. What's on your mind?",
                "Hey! I'm here to help with automation - whether it's emails, analysis, planning, or creative work. What can I help you with?",
                "Good to see you! I'm your AI teammate for automation. Ready to make some work easier?"
            ];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        async function callClaudeAPI(userInput) {
            // Try Claude API first, fallback to intelligent responses
            try {
                const systemPrompt = `You are an AI automation assistant. Help users automate business tasks by either:
1. Completing the task directly with high-quality output
2. Providing detailed automation strategies
3. Creating templates and frameworks

For healthcare tasks, ensure HIPAA compliance. Be helpful, professional, and provide actionable results.
Format responses clearly with headers and bullet points when appropriate.`;

                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 2000,
                        messages: [
                            {
                                role: "user",
                                content: `${systemPrompt}\n\nTask: ${userInput}`
                            }
                        ]
                    })
                });

                if (!response.ok) {
                    throw new Error('API unavailable');
                }

                const data = await response.json();
                return data.content[0].text;
                
            } catch (error) {
                console.log('API unavailable, using intelligent fallback');
                return getIntelligentFallback(userInput);
            }
        }

        function getIntelligentFallback(input) {
            const inputLower = input.toLowerCase();
            
            // Email automation
            if (inputLower.includes('email') || inputLower.includes('message')) {
                if (inputLower.includes('decline') || inputLower.includes('reject')) {
                    return generateEmailDecline(input);
                } else if (inputLower.includes('follow up') || inputLower.includes('followup')) {
                    return generateFollowUpEmail(input);
                } else if (inputLower.includes('meeting') || inputLower.includes('schedule')) {
                    return generateMeetingEmail(input);
                } else {
                    return generateGenericEmail(input);
                }
            }
            
            // Project planning
            if (inputLower.includes('project') || inputLower.includes('plan') || inputLower.includes('timeline')) {
                return generateProjectPlan(input);
            }
            
            // Data analysis
            if (inputLower.includes('analyze') || inputLower.includes('data') || inputLower.includes('insight')) {
                return generateDataAnalysis(input);
            }
            
            // Healthcare
            if (inputLower.includes('hipaa') || inputLower.includes('patient') || inputLower.includes('medical') || inputLower.includes('healthcare')) {
                return generateHealthcareProtocol(input);
            }
            
            // Content creation
            if (inputLower.includes('content') || inputLower.includes('blog') || inputLower.includes('social media')) {
                return generateContentStrategy(input);
            }
            
            // Marketing
            if (inputLower.includes('marketing') || inputLower.includes('campaign') || inputLower.includes('promotion')) {
                return generateMarketingPlan(input);
            }
            
            // Default helpful response
            return generateHelpfulGuidance(input);
        }

        function generateEmailDecline(input) {
            return `# Professional Email Declination Template

**Subject:** Re: [Meeting/Request Topic]

Dear [Name],

Thank you for reaching out and for thinking of me for [opportunity/meeting/request].

After careful consideration, I won't be able to [participate/attend/take on this project] due to [current commitments/scheduling conflicts/other priorities].

**Alternative suggestions:**
• Could we explore a different timeframe that might work better?
• I'd be happy to recommend [colleague/alternative solution]
• Perhaps we could discuss this via a brief phone call instead?

I appreciate your understanding and hope we can find another opportunity to collaborate in the future.

Best regards,
[Your Name]

---
**Automation Tip:** Save this template and customize the bracketed sections for quick use. You can also set up email rules to auto-sort meeting requests for faster processing.`;
        }

        function generateFollowUpEmail(input) {
            return `# Follow-Up Email Template

**Subject:** Following up on [Previous Topic]

Hi [Name],

I wanted to follow up on our [conversation/meeting/discussion] about [topic] from [date/timeframe].

**Key points from our discussion:**
• [Point 1]
• [Point 2] 
• [Point 3]

**Next steps:**
• [Action item 1] - Due: [Date]
• [Action item 2] - Owner: [Person]
• [Action item 3] - Status: [Progress]

**Questions/Clarifications needed:**
• [Question 1]
• [Question 2]

Please let me know if I've missed anything or if you have additional thoughts on [specific topic].

Looking forward to [next milestone/meeting/outcome].

Best,
[Your Name]

---
**Automation Strategy:** Set calendar reminders for follow-ups and use CRM tools to track conversation history automatically.`;
        }

        function generateMeetingEmail(input) {
            return `# Meeting Coordination Email

**Subject:** [Meeting Purpose] - Scheduling Request

Hello [Name/Team],

I'd like to schedule a meeting to discuss [specific topic/objective].

**Meeting Details:**
• **Purpose:** [Clear objective]
• **Duration:** [30/60/90 minutes]
• **Attendees:** [List of required participants]
• **Format:** [In-person/Video call/Phone]

**Proposed Times:**
• Option 1: [Day, Date, Time]
• Option 2: [Day, Date, Time] 
• Option 3: [Day, Date, Time]

**Agenda Items:**
1. [Topic 1] - [Time allocation]
2. [Topic 2] - [Time allocation]
3. [Topic 3] - [Time allocation]
4. Next steps and action items

**Preparation needed:**
• [Any materials to review]
• [Data to bring]
• [Decisions to consider]

Please reply with your availability or suggest alternative times that work better.

Best regards,
[Your Name]

---
**Automation Tools:** Use Calendly or similar scheduling tools to eliminate back-and-forth emails. Set up automated agenda templates.`;
        }

        function generateGenericEmail(input) {
            return `# Professional Email Template

**Subject:** [Clear, specific subject line]

Dear [Name],

**Opening:**
[Context/reason for reaching out]

**Main Content:**
[Your primary message, request, or information]

**Action Items:**
• [What you need from them]
• [What you'll provide]
• [Timeline expectations]

**Closing:**
[Polite closing with next steps]

Best regards,
[Your Name]
[Your Title]
[Contact Information]

---
**Email Automation Best Practices:**
• Use templates for common scenarios
• Set up auto-responses for frequently asked questions  
• Create email rules to organize incoming messages
• Use scheduling tools to send emails at optimal times
• Track email opens and responses for follow-up automation`;
        }

        function generateProjectPlan(input) {
            return `# Project Planning Framework

## Project Overview
**Project Name:** [Your Project]
**Objective:** [Clear goal statement]
**Timeline:** [Start date] - [End date]
**Budget:** [If applicable]

## Phase Breakdown

### Phase 1: Planning & Discovery (Weeks 1-2)
• Requirements gathering
• Stakeholder interviews
• Resource allocation
• Risk assessment

### Phase 2: Design & Development (Weeks 3-6) 
• Initial design/prototyping
• Core development work
• Regular check-ins and reviews
• Quality assurance planning

### Phase 3: Testing & Refinement (Weeks 7-8)
• User testing
• Bug fixes and improvements
• Performance optimization
• Documentation completion

### Phase 4: Launch & Deployment (Week 9)
• Final preparations
• Go-live execution
• Post-launch monitoring
• Success metrics review

## Key Milestones
• Week 2: Requirements approved
• Week 4: Design sign-off
• Week 6: Development complete
• Week 8: Testing finished
• Week 9: Project launched

## Risk Management
• **Resource availability:** [Mitigation strategy]
• **Technical challenges:** [Backup plans]
• **Timeline delays:** [Buffer time allocated]

## Success Metrics
• [Measurable outcome 1]
• [Measurable outcome 2]
• [Measurable outcome 3]

---
**Automation Opportunities:**
• Use project management tools (Asana, Monday.com) for automatic progress tracking
• Set up automated status reports
• Create template checklists for recurring project types`;
        }

        function generateDataAnalysis(input) {
            return `# Data Analysis Framework

## Analysis Approach

### 1. Data Collection & Validation
• **Sources:** [Identify data sources]
• **Quality check:** Remove duplicates, validate accuracy
• **Time period:** [Define analysis timeframe]
• **Sample size:** [Ensure statistical significance]

### 2. Key Metrics to Analyze
• **Primary KPIs:** [Core business metrics]
• **Secondary metrics:** [Supporting indicators]
• **Trends:** [Time-based patterns]
• **Correlations:** [Relationship between variables]

### 3. Analysis Methods
• **Descriptive:** What happened?
• **Diagnostic:** Why did it happen?
• **Predictive:** What might happen?
• **Prescriptive:** What should we do?

### 4. Visualization Strategy
• Charts for trends over time
• Comparisons between categories
• Geographic or demographic breakdowns
• Performance against targets

## Expected Insights
• **Performance trends:** [Improving/declining areas]
• **Opportunities:** [Growth potential]
• **Risks:** [Areas of concern]
• **Recommendations:** [Actionable next steps]

## Action Plan
1. **Immediate actions:** [Quick wins]
2. **Short-term initiatives:** [1-3 months]
3. **Long-term strategy:** [6+ months]

---
**Data Analysis Automation:**
• Set up automated reporting dashboards
• Create alerts for unusual patterns
• Use business intelligence tools for real-time insights
• Establish regular review cycles`;
        }

        function generateHealthcareProtocol(input) {
            return `# HIPAA-Compliant Healthcare Protocol

## Privacy & Security Framework

### Patient Information Handling
• **Access controls:** Role-based permissions only
• **Audit trails:** Log all access to patient data
• **Data encryption:** Both in transit and at rest
• **Secure communication:** Use encrypted channels only

### Documentation Requirements
• **Patient consent:** Written authorization required
• **Record retention:** Follow state/federal guidelines
• **Access logs:** Maintain detailed access records
• **Incident reporting:** Document any privacy breaches

### Staff Training Protocol
• **HIPAA awareness:** Annual training mandatory
• **Security procedures:** Regular updates on best practices
• **Incident response:** Clear escalation procedures
• **Device security:** Mobile device and laptop protocols

## Quality Assurance Measures

### Patient Safety Checkpoints
• **Verification procedures:** Confirm patient identity
• **Medication reconciliation:** Review all current medications
• **Allergy alerts:** Prominent display of known allergies
• **Emergency contacts:** Current and accessible

### Clinical Workflow
• **Standardized procedures:** Evidence-based protocols
• **Decision support:** Clinical guidelines integration
• **Quality metrics:** Regular outcome measurements
• **Continuous improvement:** Regular protocol reviews

## Compliance Monitoring
• **Regular audits:** Internal and external reviews
• **Risk assessments:** Periodic vulnerability testing
• **Policy updates:** Stay current with regulations
• **Vendor compliance:** Ensure all partners are HIPAA-compliant

---
**Healthcare Automation Opportunities:**
• Electronic health records (EHR) optimization
• Automated appointment reminders (HIPAA-compliant)
• Clinical decision support systems
• Quality reporting automation`;
        }

        function generateContentStrategy(input) {
            return `# Content Creation Strategy

## Content Planning Framework

### Audience Analysis
• **Primary audience:** [Demographics, interests, pain points]
• **Secondary audience:** [Additional target groups]
• **Content preferences:** [Format, tone, topics they engage with]
• **Platform behavior:** [Where and when they consume content]

### Content Types & Distribution

#### Blog/Article Content
• **Educational pieces:** How-to guides, tutorials
• **Industry insights:** Trends, analysis, predictions
• **Case studies:** Success stories, lessons learned
• **Thought leadership:** Expert opinions, commentary

#### Social Media Strategy
• **Platform selection:** Choose 2-3 primary platforms
• **Content mix:** 80% value, 20% promotional
• **Posting schedule:** Consistent timing for engagement
• **Community engagement:** Response strategy

#### Visual Content
• **Infographics:** Complex information simplified
• **Video content:** Tutorials, behind-the-scenes
• **Images:** Brand-consistent photography/graphics
• **Interactive content:** Polls, quizzes, live sessions

## Content Calendar Structure
• **Weekly themes:** Consistent topic organization
• **Monthly campaigns:** Larger strategic initiatives
• **Seasonal content:** Holiday and industry events
• **Evergreen pieces:** Timeless, reusable content

## Performance Metrics
• **Engagement rates:** Likes, shares, comments
• **Traffic generation:** Website visits from content
• **Lead generation:** Email signups, downloads
• **Conversion tracking:** Sales attribution

---
**Content Automation Tools:**
• Editorial calendar software
• Social media scheduling platforms
• Content performance analytics
• Email marketing automation`;
        }

        function generateMarketingPlan(input) {
            return `# Marketing Campaign Strategy

## Campaign Foundation

### Target Audience Definition
• **Primary market:** [Detailed buyer persona]
• **Pain points:** [Problems your solution solves]
• **Buying behavior:** [How they make decisions]
• **Communication preferences:** [Channels they use]

### Value Proposition
• **Core benefit:** [Primary value delivered]
• **Differentiation:** [What makes you unique]
• **Proof points:** [Evidence of value]
• **Messaging hierarchy:** [Primary, secondary messages]

## Multi-Channel Approach

### Digital Marketing
• **SEO/Content marketing:** Organic visibility
• **Paid advertising:** Google Ads, social media ads
• **Email marketing:** Nurture sequences
• **Social media:** Community building and engagement

### Traditional Marketing
• **PR/Media outreach:** Industry publications
• **Events/Conferences:** Speaking and networking
• **Partnerships:** Strategic collaborations
• **Direct outreach:** Sales team coordination

## Campaign Timeline
• **Phase 1:** Awareness building (Months 1-2)
• **Phase 2:** Consideration nurturing (Months 2-3)
• **Phase 3:** Conversion optimization (Months 3-4)
• **Phase 4:** Retention and expansion (Ongoing)

## Budget Allocation
• **Digital advertising:** 40%
• **Content creation:** 25%
• **Events/PR:** 20%
• **Tools/Technology:** 10%
• **Testing/Optimization:** 5%

## Success Metrics
• **Awareness:** Brand mention tracking, reach
• **Engagement:** Click-through rates, time on site
• **Lead generation:** Form completions, downloads
• **Sales impact:** Revenue attribution, ROI

---
**Marketing Automation Opportunities:**
• Lead scoring and nurturing workflows
• Personalized email sequences
• Social media scheduling and monitoring
• Campaign performance dashboards`;
        }

        function generateHelpfulGuidance(input) {
            return `# Business Process Automation Guide

## Understanding Your Request
I've analyzed your input: "${input.substring(0, 100)}${input.length > 100 ? '...' : ''}"

## Automation Approach

### 1. Process Analysis
• **Current workflow:** Map existing steps
• **Pain points:** Identify inefficiencies
• **Manual tasks:** Spot automation opportunities
• **Success metrics:** Define measurable outcomes

### 2. Solution Framework
• **Quick wins:** Low-effort, high-impact improvements
• **Technology solutions:** Tools and platforms to consider
• **Process redesign:** Optimized workflow recommendations
• **Implementation plan:** Step-by-step approach

### 3. Common Automation Categories

#### Administrative Tasks
• Email management and templates
• Calendar scheduling and coordination
• Document creation and filing
• Report generation and distribution

#### Customer Service
• FAQ automation and chatbots
• Ticket routing and prioritization
• Follow-up sequences
• Feedback collection

#### Marketing & Sales
• Lead nurturing campaigns
• Social media posting
• Performance tracking
• Customer onboarding

#### Operations
• Inventory management
• Quality control checklists
• Compliance monitoring
• Data backup and security

## Next Steps
1. **Clarify requirements:** Provide more specific details about your needs
2. **Choose focus area:** Select the highest-impact opportunity
3. **Pilot approach:** Start with a small test implementation
4. **Measure and iterate:** Track results and refine

## Recommended Tools
• **Project management:** Asana, Monday.com, Trello
• **Communication:** Slack, Microsoft Teams
• **Document automation:** Google Workspace, Microsoft 365
• **Customer management:** HubSpot, Salesforce
• **Analytics:** Google Analytics, Tableau

---
**Pro Tip:** Start with one specific process and automate it completely before moving to the next. This builds momentum and proves value quickly.`;
        }

        async function typeText(element, text) {
            if (!element) return;
            
            element.style.color = 'var(--fg)';
            element.innerHTML = '';
            
            const words = text.split(' ');
            for (let i = 0; i < words.length; i++) {
                element.innerHTML += words[i] + ' ';
                element.scrollTop = element.scrollHeight;
                await new Promise(resolve => setTimeout(resolve, 30));
            }
        }

        // Safe initialization
        window.addEventListener('load', () => {
            try {
                const taskInput = document.getElementById('taskInput');
                if (taskInput) {
                    taskInput.focus();
                }
                
                // Safe daily count update
                const countEl = document.getElementById('dailyCount');
                if (countEl) {
                    const dailyUsage = parseInt(localStorage.getItem('aitaskflo_daily_' + new Date().toDateString()) || '0');
                    countEl.textContent = dailyUsage;
                }
            } catch (error) {
                console.log('Initialization error:', error);
            }
        });
    </script>
</body>
</html>      padding: 10px;
      border-radius: 6px;
      border: none;
      outline: none;
      font-family: monospace;
      margin-bottom: 10px;
    }

    #log-panel, #teamOutput {
      margin-top: 20px;
      text-align: left;
      background: #111;
      padding: 15px;
      border-radius: 10px;
      color: #0f0;
      font-family: monospace;
      max-height: 250px;
      overflow-y: auto;
      box-shadow: inset 0 0 10px #00d4ff;
    }
  </style>
</head>
<body>
  <h1>⚙️ Welcome to the Automation Factory ⚙️</h1>
  <p>Here’s where ideas turn into automated workflows. Pick a bot or ask the whole crew!</p>

  <!-- Single Bots -->
  <div class="machine">
    <h2>💌 Email Bot</h2>
    <p>Automatically respond to customer emails in seconds.</p>
    <button onclick="runBot('emailBot')">Run Email Bot</button>
  </div>

  <div class="machine">
    <h2>📋 Task Manager</h2>
    <p>Assign, track, and complete tasks without lifting a finger.</p>
    <button onclick="runBot('taskBot')">Run Task Manager</button>
  </div>

  <div class="machine">
    <h2>📊 Analytics Engine</h2>
    <p>Get instant insights on your business performance.</p>
    <button onclick="runBot('analyticsBot')">Run Analytics</button>
  </div>

  <div class="machine">
    <h2>🔍 Research Bot</h2>
    <p>Search, fetch facts, and uncover insights.</p>
    <button onclick="runBot('researchBot')">Run Research Bot</button>
  </div>

  <!-- Team Mode -->
  <div class="machine">
    <h2>🤖 AI Agent (Team Mode)</h2>
    <p>Ask the whole crew a question, and they’ll discuss it together.</p>
    <textarea id="teamInput" placeholder="Type your question for the crew..."></textarea>
    <br>
    <button onclick="runTeamBot()">🧑‍🤝‍🧑 Ask the Crew</button>
    <pre id="teamOutput"></pre>
  </div>

  <!-- Log Panel -->
  <div id="log-panel">
    <strong>📜 Bot Logs:</strong>
    <pre id="logs"></pre>
  </div>

  <a href="index.html" style="display:inline-block; margin-top:30px; padding:10px 20px; background:#ff9800; color:#fff; text-decoration:none; border-radius:5px;">⬅ Back to Home</a>

  <script>
    // Use current domain automatically
    const BASE_URL = window.location.origin;

    async function runBot(botName) {
      const logBox = document.getElementById("logs");
      logBox.innerHTML += `[Orchestrator] Dispatching task → ${botName}\n`;

      try {
        const res = await fetch(`${BASE_URL}/run-bot`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ botName, input: "Test input from Factory" })
        });

        const data = await res.json();
        for (const line of data.logs) {
          await typeLine(logBox, line, botName);
        }
      } catch {
        logBox.innerHTML += `[System] ❌ Error running ${botName}\n`;
      }
    }

    async function runTeamBot() {
      const input = document.getElementById("teamInput").value;
      const outputBox = document.getElementById("teamOutput");
      outputBox.innerHTML = "🧑‍🤝‍🧑 Crew is discussing...\n";

      try {
        const res = await fetch(`${BASE_URL}/team-run`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ input })
        });
        const data = await res.json();

        for (const line of data.logs) {
          let botName = "";
          if (line.toLowerCase().includes("emailbot")) botName = "emailBot";
          if (line.toLowerCase().includes("taskbot")) botName = "taskBot";
          if (line.toLowerCase().includes("analyticsbot")) botName = "analyticsBot";
          if (line.toLowerCase().includes("researchbot")) botName = "researchBot";

          await typeLine(outputBox, line, botName);
        }
      } catch {
        outputBox.innerHTML += "❌ Error connecting to the crew.\n";
      }
    }

    async function typeLine(box, text, botName="") {
      box.innerHTML += (botName ? `[${botName}] ` : "") + text + "\n";
      box.scrollTop = box.scrollHeight;
      await new Promise(r => setTimeout(r, 20));
    }
  </script>
</body>
</html>
